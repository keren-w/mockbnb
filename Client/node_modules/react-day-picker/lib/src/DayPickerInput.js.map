{"version":3,"sources":["../../src/DayPickerInput.js"],"names":["HIDE_TIMEOUT","getStateFromProps","props","month","value","m","format","isValid","toDate","dayPickerProps","initialMonth","Date","DayPickerInput","input","daypicker","clickedInside","clickTimeout","hideTimeout","hideAfterDayClick","hideOnDayClick","setTimeout","hideDayPicker","handleContainerMouseDown","handleClick","showDayPicker","onClick","e","persist","handleFocus","onFocus","handleBlur","setState","showOverlay","focus","onBlur","handleChange","target","onDayChange","onChange","trim","undefined","day","modifiersObj","disabled","disabledDays","selected","selectedDays","modifiers","reduce","obj","modifier","newObj","handleOnKeyUp","keyCode","onKeyUp","handleDayClick","onDayClick","clickUnselectsDay","state","nextProps","nextDayPickerProps","nextValue","hasDifferentValue","willUpdateDayPickerMonth","newMonthProp","shouldDisplayAnotherMonth","getFullYear","getMonth","clearTimeout","selectedDay","classNames","overlayWrapper","overlay","el","inputProps","component","container","createElement","ref","renderOverlay","Component","defaultProps","propTypes","string","oneOfType","arrayOf","isRequired","object","bool","any","shape","func"],"mappings":"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","file":"DayPickerInput.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment'; // eslint-disable-line import/no-extraneous-dependencies\n\nimport DayPicker from './DayPicker';\nimport { getModifiersForDay } from './ModifiersUtils';\nimport { ESC } from './keys';\n\nexport const HIDE_TIMEOUT = 100;\n\nfunction getStateFromProps(props) {\n  let month;\n  if (props.value) {\n    const m = moment(props.value, props.format, true);\n    if (m.isValid()) {\n      month = m.toDate();\n    }\n  } else {\n    month =\n      props.dayPickerProps.initialMonth ||\n      props.dayPickerProps.month ||\n      new Date();\n  }\n\n  return {\n    value: props.value,\n    month,\n  };\n}\n\nexport default class DayPickerInput extends React.Component {\n  static propTypes = {\n    // eslint-disable-next-line react/no-unused-prop-types\n    value: PropTypes.string,\n\n    format: PropTypes.oneOfType([\n      PropTypes.arrayOf(PropTypes.string),\n      PropTypes.string,\n    ]).isRequired,\n\n    dayPickerProps: PropTypes.object,\n    hideOnDayClick: PropTypes.bool,\n    clickUnselectsDay: PropTypes.bool,\n    component: PropTypes.any,\n\n    classNames: PropTypes.shape({\n      container: PropTypes.string,\n      overlayWrapper: PropTypes.string,\n      overlay: PropTypes.string.isRequired,\n    }),\n\n    onDayChange: PropTypes.func,\n    onChange: PropTypes.func,\n    onClick: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onKeyUp: PropTypes.func,\n  };\n\n  static defaultProps = {\n    dayPickerProps: {},\n    value: '',\n    format: 'L',\n    hideOnDayClick: true,\n    clickUnselectsDay: false,\n    component: 'input',\n    classNames: {\n      container: 'DayPickerInput',\n      overlayWrapper: 'DayPickerInput-OverlayWrapper',\n      overlay: 'DayPickerInput-Overlay',\n    },\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = getStateFromProps(props);\n    this.state.showOverlay = false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { dayPickerProps, value } = this.props;\n    const { dayPickerProps: nextDayPickerProps, value: nextValue } = nextProps;\n\n    const hasDifferentValue = nextValue !== value;\n\n    const willUpdateDayPickerMonth =\n      nextDayPickerProps.month && dayPickerProps.month;\n\n    const newMonthProp = nextDayPickerProps.month && !dayPickerProps.month;\n\n    const shouldDisplayAnotherMonth =\n      newMonthProp ||\n      (willUpdateDayPickerMonth &&\n        (nextDayPickerProps.month.getFullYear() !==\n          dayPickerProps.month.getFullYear() ||\n          nextDayPickerProps.month.getMonth() !==\n            dayPickerProps.month.getMonth()));\n\n    if (hasDifferentValue && !shouldDisplayAnotherMonth) {\n      this.setState(getStateFromProps(nextProps));\n    } else if (shouldDisplayAnotherMonth) {\n      this.setState({ month: nextDayPickerProps.month });\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.clickTimeout);\n    clearTimeout(this.hideTimeout);\n  }\n\n  input = null;\n  daypicker = null;\n  clickedInside = false;\n  clickTimeout = null;\n  hideTimeout = null;\n\n  /**\n   * Show the Day Picker overlay.\n   * \n   * @memberof DayPickerInput\n   */\n  showDayPicker() {\n    this.setState({\n      showOverlay: true,\n    });\n  }\n\n  /**\n   * Hide the Day Picker overlay\n   * \n   * @memberof DayPickerInput\n   */\n  hideDayPicker() {\n    this.setState({\n      showOverlay: false,\n    });\n  }\n\n  hideAfterDayClick = () => {\n    if (!this.props.hideOnDayClick) {\n      return;\n    }\n    this.hideTimeout = setTimeout(\n      () => this.hideDayPicker(),\n      HIDE_TIMEOUT // give a timeout to show the clicked day\n    );\n  };\n\n  handleContainerMouseDown = () => {\n    this.clickedInside = true;\n    // The input's onBlur method is called from a queue right after onMouseDown event.\n    // setTimeout adds another callback in the queue, but is called later than onBlur event\n    this.clickTimeout = setTimeout(() => {\n      this.clickedInside = false;\n    }, 0);\n  };\n\n  handleClick = e => {\n    this.showDayPicker();\n    if (this.props.onClick) {\n      e.persist();\n      this.props.onClick(e);\n    }\n  };\n\n  handleFocus = e => {\n    this.showDayPicker();\n    if (this.props.onFocus) {\n      e.persist();\n      this.props.onFocus(e);\n    }\n  };\n\n  handleBlur = e => {\n    this.setState({\n      showOverlay: this.clickedInside,\n    });\n\n    // Force input's focus if blur event was caused\n    // by clicking inside the overlay\n    if (this.clickedInside) {\n      this.input.focus();\n    }\n\n    if (this.props.onBlur) {\n      e.persist();\n      this.props.onBlur(e);\n    }\n  };\n\n  handleChange = e => {\n    const { value } = e.target;\n    const { format, dayPickerProps, onDayChange, onChange } = this.props;\n    const m = moment(value, format, true);\n\n    if (onChange) {\n      e.persist();\n      onChange(e);\n    }\n\n    if (value.trim() === '') {\n      this.setState({ value });\n      if (this.props.onDayChange) {\n        this.props.onDayChange(undefined, {});\n      }\n      return;\n    }\n\n    if (!m.isValid()) {\n      this.setState({ value });\n      return;\n    }\n\n    const day = m.toDate();\n    this.setState({ month: day, value }, () => {\n      if (!onDayChange) {\n        return;\n      }\n      const modifiersObj = {\n        disabled: dayPickerProps.disabledDays,\n        selected: dayPickerProps.selectedDays,\n        ...dayPickerProps.modifiers,\n      };\n      const modifiers = getModifiersForDay(\n        day,\n        modifiersObj\n      ).reduce((obj, modifier) => {\n        const newObj = { ...obj };\n        newObj[modifier] = true;\n        return newObj;\n      }, {});\n      this.props.onDayChange(m, modifiers);\n    });\n  };\n\n  handleOnKeyUp = e => {\n    this.setState({\n      showOverlay: e.keyCode !== ESC,\n    });\n    if (this.props.onKeyUp) {\n      e.persist();\n      this.props.onKeyUp(e);\n    }\n  };\n\n  handleDayClick = (day, modifiers, e) => {\n    if (this.props.dayPickerProps.onDayClick) {\n      this.props.dayPickerProps.onDayClick(day, modifiers, e);\n    }\n\n    if (modifiers.disabled) {\n      // Do nothing if the day is disabled\n      return;\n    }\n    if (modifiers.selected && this.props.clickUnselectsDay) {\n      // Unselect the day\n      this.setState({ value: '' }, this.hideAfterDayClick);\n      if (this.props.onDayChange) {\n        this.props.onDayChange(undefined, modifiers);\n      }\n      return;\n    }\n\n    const { format } = this.props;\n    const m = moment(day);\n    this.setState(\n      {\n        value: m.format(typeof format === 'string' ? format : format[0]),\n        month: day,\n      },\n      () => {\n        if (this.props.onDayChange) {\n          this.props.onDayChange(m, modifiers);\n        }\n        this.hideAfterDayClick();\n      }\n    );\n  };\n\n  renderOverlay() {\n    let selectedDay;\n    if (this.state.value) {\n      const m = moment(this.state.value, this.props.format, true);\n      if (m.isValid()) {\n        selectedDay = m.toDate();\n      }\n    }\n\n    return (\n      <div className={this.props.classNames.overlayWrapper}>\n        <div className={this.props.classNames.overlay}>\n          <DayPicker\n            ref={el => (this.daypicker = el)}\n            fixedWeeks\n            {...this.props.dayPickerProps}\n            month={this.state.month}\n            selectedDays={selectedDay}\n            onDayClick={this.handleDayClick}\n            numberOfMonths={1}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const inputProps = { ...this.props };\n    delete inputProps.component;\n    delete inputProps.dayPickerProps;\n    delete inputProps.format;\n    delete inputProps.clickUnselectsDay;\n    delete inputProps.hideOnDayClick;\n    delete inputProps.onDayChange;\n    delete inputProps.classNames;\n    return (\n      <div\n        className={this.props.classNames.container}\n        onMouseDown={this.handleContainerMouseDown}\n      >\n        {React.createElement(this.props.component, {\n          ref: el => (this.input = el),\n          ...inputProps,\n          value: this.state.value,\n          onChange: this.handleChange,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          onKeyUp: this.handleOnKeyUp,\n          onClick: this.handleClick,\n        })}\n        {this.state.showOverlay && this.renderOverlay()}\n      </div>\n    );\n  }\n}\n"]}